<!DOCTYPE html>
<html lang='en'>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    
      Database Foundations
    
  </title>
  
  <meta name="description" content="Creating Database    CREATE DATABASE `shop` DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;    ">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://tldrdevnotes.com/database-foundations">
  <link rel="alternate" type="application/rss+xml" title="TLDR Dev Notes" href="http://tldrdevnotes.com/feed.xml">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
</head>

  <body>
    <header class="Site-header">

  <div class="wrapper">

    <div>
      <a class="Site-title" href="/">TLDR Dev Notes</a>
      <small>Aamnah's developer notes</small>
    </div>

    <nav class="Site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
          <a class="page-link" href="/archive/">Archive</a>
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>

    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Database Foundations</h1>
    <p class="post-meta"><time datetime="2015-02-20T00:00:00+05:00" itemprop="datePublished">Feb 20, 2015</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Aamnah</span></span></p>
    
      <ul class='tags'>
      
        <li>basics</li>
      
        <li>database</li>
      
        <li>mysql</li>
      
        <li>how-to</li>
      
      </ul>
    
  </header>

  <div class="post-content" itemprop="articleBody">
    <h2>Creating Database</h2>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    CREATE DATABASE `shop` DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;
    </code></pre></figure>

<p>You can also use the keyword <code>SCHEMA</code> to create a database.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    CREATE SCHEMA `shop`;
    </code></pre></figure>

<p>Once a database is cerated you can start using it with the following command</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    USE `shop`;
    </code></pre></figure>

<h3>Get info about the database</h3>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SHOW ENGINES
    </code></pre></figure>

<p>The default engine is InnoDB.</p>

<h2>Creating Tables</h2>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    CREATE TABLE actors (name VARCHAR(50));
    </code></pre></figure>

<p><code>CREATE</code> is the command telling the database what to do. <code>TABLE</code> is telling the database what to create. <strong>actors</strong> is the name of that table. <strong>name</strong> is the column the table will have. The type of data it&#39;ll have is <code>VARCHAR</code>. <code>(50)</code> means we can store up to 50 characters.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    CREATE TABLE movies (title VARCHAR(200), year INTEGER);
    </code></pre></figure>

<p>Same as above, but this time create two columns, one is called <strong>title</strong> and contains <code>VARCHAR</code> data up to <strong>200</strong> characters long and the other is <strong>year</strong> which contains <code>INTEGER</code>s (aka numbers).</p>

<p>Here is another example:</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    CREATE TABLE IF NOT EXISTS `products` (
    `sku` int(11) DEFAULT NULL,
    `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
    `img` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
    `price` decimal(10,2) DEFAULT NULL,
    `paypal` varchar(32) COLLATE utf8_unicode_ci DEFAULT NULL
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
    </code></pre></figure>

<p><code>NULL</code> and <code>NOT NULL</code> determine the default for values. By default it is NULL. But if you want to force the user to always enter a value, you can set it to <code>NOT NULL</code> so it must always be entered by the user. If you want a <strong>required</strong> field, set it&#39;s value to <strong>NOT NULL</strong> in the database.</p>

<h3>Temporary Tables</h3>

<p>A temporary table is visible only to the current connection, and is dropped automatically when the connection is closed. </p>

<h2>CRUD (Create, Read, Update, Delete)</h2>

<p>Each of these operations has a set of keywords associated with them.</p>

<p>| CRUD    |            |
|---------|------------|
| Create  | <code>INSERT</code>   |
| Read    | <code>SELECT</code>   |
| Update  | <code>UPDATE</code>   |
| Delete  | <code>DELETE</code>   |</p>

<h2>Inserting Data</h2>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    INSERT INTO movies VALUES("Avatar", 2009);
    </code></pre></figure>

<p><code>INSERT INTO</code> tells what table to insert into, <strong>movies</strong> is the table&#39;s name and <code>VALUES</code> tells the list of values that we want to add to the table. </p>

<p>Avatar has <code>&quot; &quot;</code> around it because it is a string, 2009 has no quotes because it&#39;s an integer.</p>

<p>The order of the values is important. It should be the same order as you have defined your columns. If you don&#39;t know/remember the ordering of the columns in the table, you can specify them in the command, like so:</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    INSERT INTO movies (title, year) VALUES("Avatar", 2009);
    </code></pre></figure>
  

<p>Even in this case, the order of the columns specified should match the order of the values. If, in the command, you have mentioned the title column first, then the values should have the title value first.</p>

<p>You can add values to multiple rows separated by a comma in the same command. Like this:</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    INSERT INTO movies (title, year) VALUES("Avatar", 2009), ("The Godfather", NULL);
    </code></pre></figure>
  

<p>If you don&#39;t know or don&#39;t want to enter a value, use <strong>NULL</strong>.</p>

<p>You can also insert data using the <code>SET</code> keyword</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    INSERT INTO movies SET title="Back to the Future", year = 1985;
    </code></pre></figure>
 

<p>Here is another example:</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    INSERT INTO `products` (`sku`, `name`, `img`, `price`, `paypal`) VALUES(109, 'Get Coding Shirt', 'Gray', 'img/shirt-coding.png', 25.00, '7BNDYJX65WD364')
    </code></pre></figure>

<p>The basic format of the command is</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    INSERT INTO `products` (column1, column2) VALUES(value1, value2)
    </code></pre></figure>

<h2>Reading and Retrieving data</h2>

<p><code>SELECT</code> is the keyword for reading data </p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies;
    </code></pre></figure>

<p><code>SELECT</code> is for reading data, <code>*</code> means all columns, <code>FROM</code> means from, and the table is <strong>movies</strong>. The above statement says &#39;read data from all columns in the movies table&#39;.</p>

<p>You can also select which columns to show like this:</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT movies.title, movies.year FROM movies;
    </code></pre></figure>

<p>The order of the columns will be determined by the order in your query. Meaning, you can switch columns around. </p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT movies.year, movies.title FROM movies;
    </code></pre></figure>

<p>You can drop the table names from columns and it&#39;ll still work, like so:</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT title, year FROM movies;
    </code></pre></figure>

<h3>Querying Tables and Getting selective results</h3>

<p><code>WHERE</code> is the clause that limits the result set because you are constraining it to rows that meet a specified criteria. Using the WHERE clause you and add text or a condition to filter the results to only bring back rows fulfilling that condition.</p>

<p>| Operator | Meaning                   |
|----------|---------------------------|
|  <code>=</code>     | Equal                     |
|  <code>!=</code>    | Not Equal                 |
|  <code>&gt;</code>     | Greater Than              |
|  <code>&gt;=</code>    | Greater Than AND Equal to |
|  <code>&lt;</code>     | Less Than                 |
|  <code>&lt;=</code>    | Less Than AND Equal to    |</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies WHERE year = 1999;
    </code></pre></figure>

<p><code>SELECT</code> all (<code>*</code>) rows <code>FROM</code> the <strong>movies</strong> table <code>WHERE</code> (the data in) the <strong>year</strong> (column) was <code>1999</code>.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies WHERE year != 1999;
    </code></pre></figure>

<p>will select all movies where the years was not equal to 1999.</p>

<h3>Combining Multiple Conditions</h3>

<p>| Keyword    | Meaning          |
|------------|------------------|
| <code>AND</code>      | And              |
| <code>OR</code>       | Or               |
| <code>BETWEEN</code>  | Between          |</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies WHERE year &lt; 1999 AND title = "The Matrix";
    </code></pre></figure>

<p><code>SELECT</code> all (<code>*</code>) rows <code>FROM</code> the <strong>movies</strong> table <code>WHERE</code> the <strong>year</strong> column value is greater than (<code>&lt;</code>) <code>1999</code> <code>AND</code> the <strong>title</strong> column value is <strong>The Matrix</strong>. Since the title data type is string, we&#39;ve wrapped what we are looking for in <code>&quot; &quot;</code>.</p>

<p>In other words, select all movies released after 1999 <strong>AND</strong> with the title The Matrix. </p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies WHERE year = 1998 OR year = 2000;
    </code></pre></figure>

<p>Show all movies released in 1998 <strong>OR</strong> 2000.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies WHERE year BETWEEN 1988 AND 2000;
    </code></pre></figure>

<p>Show all movies released <strong>BETWEEN</strong> 1988 and 2000.</p>

<h3>Search on a string based on part of a string</h3>

<p>| Keyword    | Meaning          |
|------------|------------------|
| <code>LIKE</code>     | Contains         |
| <code>NOT LIKE</code> | Does not contain |
| <code>%</code>        | Wildcard         |</p>

<p>For example, look for all movies that have the word <em>Godfather</em> in the title.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    
    SHOW * FROM movies WHERE title LIKE "godfather"
    </code></pre></figure>

<p><code>LIKE</code> is <strong>case-insensitive</strong>. </p>

<p>Wildcards are used to determine if something starts, contains or ends with a particular string. If a search string doesn&#39;t yield anything, wrap the string in wildcards and try again.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SHOW * FROM movies WHERE title LIKE "%godfather%"
    </code></pre></figure>

<p>You can also look for something that does not contain a particular string</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    select * FROM runs WHERE info is null or info NOT LIKE '%wrong%';
    </code></pre></figure>

<h3>Ordering results <code>ORDER BY</code></h3>

<p>| Keyword    | Meaning                    |
|------------|----------------------------|
| <code>ORDER BY</code> | Order                      |
| <code>ASC</code>      | Ascending Order            |
| <code>DESC</code>     | Descending (reverse) Order |</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SHOW * FROM movies ORDER BY year;
    </code></pre></figure>

<p>will show all movies in ascending order of the year column. If you want you can explicitly specify <code>ASC</code> for the order. But it is ascending by default (Low to High).</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SHOW * FROM movies ORDER BY year DESC;
    </code></pre></figure>

<p>will show all movies in descending order of the year.</p>

<p>You can <em>chain</em> ordering together by adding a comma <code>,</code> after each column and their ordering keyword.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SHOW * FROM movies ORDER BY year ASC, title DESC;
    </code></pre></figure>

<p>will show the movies by ascending order of the year and in every year the title would be in descending (reverse) order. </p>

<p>The ordering of the chain matters. Whatever you want sorted first needs to be included first.</p>

<h3>Limiting the Result Set</h3>

<p>| Keyword    | Meaning               |
|------------|-----------------------|
| <code>LIMIT</code>    | No. of result rows    |
| <code>OFFSET</code>   | Offset of result rows |</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies LIMIT 10 OFFSET 20;
    </code></pre></figure>

<p>is the same as </p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies LIMIT 20,10;
    </code></pre></figure>

<p>Keep in mind that the OFFSET of the initial row is 0, not 1. </p>

<p>There is a <strong>default LIMIT</strong> of 1000 in some software (like MySQL Bench). Be aware of it when you are working with results in excess of 1000+. If you are working with a programming language (like PHP) this default limit won&#39;t be there.</p>

<h3>Dealing with NULL</h3>

<p>| Keyword       | Meaning                    |
|---------------|----------------------------|
| <code>IS NULL</code>     | Has no value               |
| <code>IS NOT NULL</code> | Is not empty (Has a value) |</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies WHERE year IS NULL;
    </code></pre></figure>

<p>Select all movies with the &quot;year&quot; column that hasn&#39;t been populated yet. In other words, show all movies with no year given. </p>

<p>Null affects your sort order as it&#39;ll always come at top.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SELECT * FROM movies WHERE year IS NOT NULL ORDER BY year;
    </code></pre></figure>

<p>will exclude the empty results. Select all movies that have data in the &quot;year&quot; column.</p>

<h2>Updating Data</h2>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    UPDATE movies SET year=2015;
    </code></pre></figure>

<p>The command above will change the year to 2015 for all rows in the <strong>year</strong> column. To specify which row to update the year for, specify title as well. Make the command target more specific:</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    UPDATE movies SET year=2015 WHERE title="Avatar 2";
    </code></pre></figure>

<h3>Update existing values</h3>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    UPDATE movies SET year=2016, title="Avatar Reloaded" WHERE title="Avatar 2";
    </code></pre></figure>

<p>will update the existing Avatar 2 row to Avatar Reloaded and change the year to 2016.</p>

<h2>Delete Data</h2>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    DELETE FROM movies;
    </code></pre></figure>

<p>will delete everything in the movies table. Not a good idea to do unless that&#39;s what you really want. You can use <code>WHERE</code> to narrow down your target.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    DELTE FROM moviews WHERE title = "Avatar Reloaded";
    </code></pre></figure>

<p>to be extra safe, mention as many values for the row as you know.</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    DELTE FROM moviews WHERE title = "Avatar Reloaded" AND year=2016;
    </code></pre></figure>

<hr>

<h2>NOTES</h2>

<h3>Follow convention</h3>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    update movies set year=2015;
    </code></pre></figure>

<p>is the same as</p>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    UPDATE movies SET year=2015;
    </code></pre></figure>

<p>both will get the job done.</p>

<p>You don&#39;t <em>have to</em> uppercase all SQL keywords, but <em>you should</em> because it is convention to do so. Also, it make your code more readable.</p>

<h3>Turn safe updates off</h3>

<figure class="highlight"><pre><code class="language-mysql" data-lang="mysql">    SET SQL_SAFE_UPDATES = 0;
    </code></pre></figure>

<p>To turn them back on, change the <strong>0</strong> to <strong>1</strong>. Safe mode lets you UPDATE and DELETE a little more safely.</p>

<h2>Resources</h2>

<ul>
<li><a href="https://teamtreehouse.com/library/database-foundations">Treehouse - Database Foundations</a></li>
<li><a href="http://dev.mysql.com/doc/refman/5.6/en/select.html">MySQL Docs: SELECT Syntax</a></li>
</ul>

  </div>

</article>

      </div>
    </div>
    <footer class="Site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">TLDR Dev Notes</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>TLDR Dev Notes</li>
          <li><a href="mailto:hello@aamnah.com">hello@aamnah.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/Aamnah"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">Aamnah</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/AamnahAkram"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">AamnahAkram</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Please note that this site and the posts on it are, and will always be, a work in progress. If i waited for perfection, i’d never get anything done.
</p>
      </div>
    </div>

  </div>

</footer>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51214502-1', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>
